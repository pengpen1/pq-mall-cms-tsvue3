{"version":3,"file":"js/26.9e55056f.js","mappings":"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","sources":["webpack://vue3-ts-cms/./src/components/page-modal/src/page-modal.vue?75d7","webpack://vue3-ts-cms/./src/components/page-modal/src/page-modal.vue?b1b7","webpack://vue3-ts-cms/./src/components/page-modal/src/page-modal.vue","webpack://vue3-ts-cms/./src/components/page-modal/index.ts","webpack://vue3-ts-cms/./src/hooks/use-page-content.ts","webpack://vue3-ts-cms/./src/pages/main/system/user/user.vue?b00f","webpack://vue3-ts-cms/./src/pages/main/system/user/config/PqFormConfig.ts","webpack://vue3-ts-cms/./src/pages/main/system/user/config/PqTableConfig.ts","webpack://vue3-ts-cms/./src/pages/main/system/user/config/PqModalConfig.ts","webpack://vue3-ts-cms/./src/pages/main/system/user/user.vue?cff0","webpack://vue3-ts-cms/./src/pages/main/system/user/user.vue"],"sourcesContent":["import { resolveComponent as _resolveComponent, mergeProps as _mergeProps, createVNode as _createVNode, renderSlot as _renderSlot, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"pageModal\" }\nconst _hoisted_2 = { class: \"dialog-footer\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"取消\")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\"确定\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_Pqform = _resolveComponent(\"Pqform\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_dialog, {\n      modelValue: _ctx.centerDialogVisible,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.centerDialogVisible) = $event)),\n      title: \"Warning\",\n      width: \"30%\",\n      center: \"\",\n      modal: true,\n      \"append-to-body\": true,\n      \"destroy-on-close\": true\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"span\", _hoisted_2, [\n          _createVNode(_component_el_button, {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.centerDialogVisible = false))\n          }, {\n            default: _withCtx(() => [\n              _hoisted_3\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _ctx.handleConfirmClick\n          }, {\n            default: _withCtx(() => [\n              _hoisted_4\n            ]),\n            _: 1\n          }, 8, [\"onClick\"])\n        ])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_Pqform, _mergeProps(_ctx.PqModalConfig, {\n          modelValue: _ctx.formData,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.formData) = $event))\n        }), null, 16, [\"modelValue\"]),\n        _renderSlot(_ctx.$slots, \"default\")\n      ]),\n      _: 3\n    }, 8, [\"modelValue\"])\n  ]))\n}","\nimport { defineComponent, ref, watch } from 'vue'\nimport Pqform from '@/base-ui/form'\nimport { useStore } from 'vuex'\n\nexport default defineComponent({\n  components: {\n    Pqform\n  },\n  props: {\n    PqModalConfig: {\n      type: Object,\n      required: true\n    },\n    defaultInfo: {\n      type: Object,\n      default: () => ({})\n    },\n    pageName: {\n      type: String,\n      required: true\n    },\n    otherInfo: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    // 1.modal表单双向绑定逻辑\n    const centerDialogVisible = ref(false)\n    const formData = ref<any>({})\n    watch(\n      () => props.defaultInfo,\n      (newValue) => {\n        for (const item of props.PqModalConfig.formItems) {\n          // 回显信息\n          formData.value[`${item.field}`] = newValue[`${item.field}`]\n        }\n      }\n    )\n\n    // 2.创建角色|部门，发送网络请求\n    const store = useStore()\n    function handleConfirmClick() {\n      // 2.1关闭modal\n      centerDialogVisible.value = false\n\n      // 2.2创建/编辑用户\n      if (Object.keys(props.defaultInfo).length === 0) {\n        // 新建\n        store.dispatch('systemModule/createPageDataAction', {\n          pageName: props.pageName,\n          newData: { ...formData.value, ...props.otherInfo }\n        })\n      } else {\n        // 编辑\n        store.dispatch('systemModule/editPageDataAction', {\n          pageName: props.pageName,\n          editData: { ...formData.value, ...props.otherInfo },\n          id: props.defaultInfo.id\n        })\n      }\n    }\n    return {\n      centerDialogVisible,\n      formData,\n      handleConfirmClick\n    }\n  }\n})\n","import { render } from \"./page-modal.vue?vue&type=template&id=ca31e0b8&ts=true\"\nimport script from \"./page-modal.vue?vue&type=script&lang=ts\"\nexport * from \"./page-modal.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"D:\\\\数据结构与算法\\\\后台管理系统\\\\vue3-ts-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import pageModal from './src/page-modal.vue'\n\nexport default pageModal\n","import { ref } from 'vue'\nimport PageModal from '@/components/page-modal'\n\nexport function usePageContent(\n  newCallBack?: () => void,\n  editCallBack?: (item?: any) => void\n) {\n  // 用于回显的formData\n  const defaultInfo = ref({})\n\n  const pageModalRef = ref<InstanceType<typeof PageModal>>()\n  function handleNewData() {\n    defaultInfo.value = {}\n    if (pageModalRef.value) {\n      pageModalRef.value.centerDialogVisible = true\n    }\n\n    newCallBack && newCallBack()\n  }\n\n  function handleEditData(item: any) {\n    defaultInfo.value = { ...item }\n    if (pageModalRef.value) {\n      pageModalRef.value.centerDialogVisible = true\n    }\n\n    editCallBack && editCallBack(item)\n  }\n  return [pageModalRef, defaultInfo, handleNewData, handleEditData]\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-05cdb602\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"user\" }\nconst _hoisted_2 = { class: \"tableContent\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_page_search = _resolveComponent(\"page-search\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_page_modal = _resolveComponent(\"page-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_page_search, {\n      PqFormConfig: _ctx.PqFormConfig,\n      onQueryBtnClick: _ctx.handleQueryClick,\n      onRefreshBtnClick: _ctx.handleRefreshClick\n    }, null, 8, [\"PqFormConfig\", \"onQueryBtnClick\", \"onRefreshBtnClick\"]),\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_page_content, {\n        PqTableConfig: _ctx.PqTableConfig,\n        pageName: _ctx.pageName,\n        ref: \"pageContentRef\",\n        onNewBtnClick: _ctx.handleNewData,\n        onEditBtnClick: _ctx.handleEditData\n      }, {\n        enable: _withCtx((scope) => [\n          _createVNode(_component_el_button, {\n            plain: \"\",\n            type: !scope.row.enable ? 'danger' : 'success',\n            size: \"small\"\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(_toDisplayString(!scope.row.enable ? '禁用' : '启用'), 1)\n            ]),\n            _: 2\n          }, 1032, [\"type\"])\n        ]),\n        _: 1\n      }, 8, [\"PqTableConfig\", \"pageName\", \"onNewBtnClick\", \"onEditBtnClick\"])\n    ]),\n    _createVNode(_component_page_modal, {\n      PqModalConfig: _ctx.PqModalConfigRef,\n      ref: \"pageModalRef\",\n      defaultInfo: _ctx.defaultInfo,\n      pageName: _ctx.pageName\n    }, null, 8, [\"PqModalConfig\", \"defaultInfo\", \"pageName\"])\n  ]))\n}","import { IPqForm } from '@/base-ui/form'\n\nexport const PqFormConfig: IPqForm = {\n  formItems: [\n    { field: 'id', label: 'id', placeholder: '请输入id', type: 'input' },\n    {\n      field: 'name',\n      label: '用户名',\n      placeholder: '请输入用户名',\n      type: 'input'\n    },\n    {\n      field: 'cellphone',\n      label: '电话号码',\n      placeholder: '请输入电话号码',\n      type: 'input'\n    },\n    {\n      field: 'realname',\n      label: '真实姓名',\n      placeholder: '请输入真实姓名',\n      type: 'input'\n    },\n    {\n      field: 'enable',\n      label: '用户状态',\n      placeholder: '请选择用户的状态',\n      type: 'select',\n      selectOptions: [\n        {\n          title: '启用',\n          value: '启用'\n        },\n        {\n          title: '禁用',\n          value: '禁用'\n        }\n      ]\n    },\n    {\n      field: 'createAt',\n      label: '创建时间',\n      placeholder: '请选择创建的时间',\n      type: 'detepicker',\n      otherOptions: {\n        startPlaceholder: '开始时间',\n        endPlaceholder: '结束时间',\n        type: 'daterange'\n      }\n    }\n  ],\n  itemStyle: {\n    padding: '10px 40px'\n  },\n  labelWidth: '120px',\n  colLayout: {\n    // ≥1920px 响应式栅格数或者栅格属性对象\n    xl: 8,\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24\n  }\n}\n","// table配置抽取\nexport const PqTableConfig = {\n  listConfig: [\n    {\n      prop: 'name',\n      label: '用户名',\n      minWidth: '100',\n      align: 'center',\n      slotName: 'name'\n    },\n    {\n      prop: 'realname',\n      label: '真实姓名',\n      minWidth: '100',\n      align: 'center',\n      slotName: 'realname'\n    },\n    {\n      prop: 'cellphone',\n      label: '手机号码',\n      minWidth: '160',\n      align: 'center',\n      slotName: 'cellphone'\n    },\n    {\n      prop: 'enable',\n      label: '状态',\n      minWidth: '100',\n      align: 'center',\n      slotName: 'enable'\n    },\n    {\n      prop: 'createAt',\n      label: '创建时间',\n      minWidth: '200',\n      align: 'center',\n      slotName: 'createAt'\n    },\n    {\n      prop: 'updateAt',\n      label: '更新时间',\n      minWidth: '200',\n      align: 'center',\n      slotName: 'updateAt'\n    },\n    {\n      label: '操作',\n      minWidth: '120',\n      slotName: 'handler',\n      align: 'center'\n    }\n  ],\n  // 定制表格风格的变量\n  showIndexColumn: true,\n  showSelectColumn: true,\n  title: '用户列表'\n}\n","import { IPqForm } from '@/base-ui/form'\n\nexport const PqModalConfig: IPqForm = {\n  formItems: [\n    {\n      field: 'name',\n      label: '用户名',\n      placeholder: '请输入用户名',\n      type: 'input'\n    },\n    {\n      field: 'realname',\n      label: '真实姓名',\n      placeholder: '请输入真实姓名',\n      type: 'input'\n    },\n    {\n      field: 'password',\n      label: '密码',\n      placeholder: '请输入密码',\n      type: 'password',\n      isHidden: false\n    },\n    {\n      field: 'cellphone',\n      label: '电话号码',\n      placeholder: '请输入电话号码',\n      type: 'input'\n    },\n    {\n      field: 'roleId',\n      label: '角色',\n      placeholder: '请选择角色',\n      type: 'select',\n      selectOptions: []\n    },\n    {\n      field: 'departmentId',\n      label: '部门',\n      placeholder: '请选择部门',\n      type: 'select',\n      selectOptions: []\n    }\n  ],\n  colLayout: {\n    span: 24\n  },\n  labelWidth: '70px',\n  itemStyle: {\n    margin: '8px 18px 8px 0px'\n  }\n}\n","\nimport { defineComponent, computed } from 'vue'\nimport { useStore } from '@/store'\n\nimport { PqFormConfig } from './config/PqFormConfig'\nimport PageSearch from '@/components/page-search'\nimport { PqTableConfig } from './config/PqTableConfig'\nimport PageContent from '@/components/page-content'\nimport { PqModalConfig } from './config/PqModalConfig'\nimport PageModal from '@/components/page-modal'\n\nimport { usePageSearch } from '@/hooks/use-page-search'\nimport { usePageContent } from '@/hooks/use-page-content'\n\nexport default defineComponent({\n  name: 'system-user',\n  components: {\n    PageSearch,\n    PageContent,\n    PageModal\n  },\n\n  setup() {\n    const pageName = 'user'\n    // 1.搜索刷新逻辑\n    const [pageContentRef, handleQueryClick, handleRefreshClick] =\n      usePageSearch()\n\n    // 2.动态添加部门和角色列表\n    const store = useStore()\n    const PqModalConfigRef = computed(() => {\n      const departmentItem = PqModalConfig.formItems.find((item) => {\n        return item.field === 'departmentId'\n      })\n      departmentItem!.selectOptions = store.state.entireDepartment.map(\n        (item) => {\n          // 转换格式为options所需要的格式\n          return { title: item.name, value: item.id }\n        }\n      )\n      const roleItem = PqModalConfig.formItems.find((item) => {\n        return item.field === 'roleId'\n      })\n      roleItem!.selectOptions = store.state.entireRole.map((item) => {\n        return { title: item.name, value: item.id }\n      })\n\n      return PqModalConfig\n    })\n\n    // 3.编辑新增逻辑\n    // pag-modal相关的hook逻辑\n    const newCallBack = () => {\n      const passwordItem = PqModalConfig.formItems.find((item) => {\n        return item.field === 'password'\n      })\n      passwordItem!.isHidden = false\n    }\n    const editCallBack = () => {\n      const passwordItem = PqModalConfig.formItems.find((item) => {\n        return item.field === 'password'\n      })\n      passwordItem!.isHidden = true\n    }\n    const [pageModalRef, defaultInfo, handleNewData, handleEditData] =\n      usePageContent(newCallBack, editCallBack)\n\n    return {\n      PqFormConfig,\n      PqTableConfig,\n      pageName,\n      handleQueryClick,\n      handleRefreshClick,\n      pageContentRef,\n      PqModalConfigRef,\n      pageModalRef,\n      defaultInfo,\n      handleNewData,\n      handleEditData\n    }\n  }\n})\n","import { render } from \"./user.vue?vue&type=template&id=05cdb602&scoped=true&ts=true\"\nimport script from \"./user.vue?vue&type=script&lang=ts\"\nexport * from \"./user.vue?vue&type=script&lang=ts\"\n\nimport \"./user.vue?vue&type=style&index=0&id=05cdb602&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\数据结构与算法\\\\后台管理系统\\\\vue3-ts-cms\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-05cdb602\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_createTextVNode","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","_component_Pqform","_resolveComponent","_component_el_button","_component_el_dialog","_openBlock","_createElementBlock","_createVNode","modelValue","centerDialogVisible","$event","title","width","center","modal","footer","_withCtx","_createElementVNode","onClick","default","_","type","handleConfirmClick","_mergeProps","PqModalConfig","formData","_renderSlot","$slots","defineComponent","components","Pqform","props","Object","required","defaultInfo","pageName","String","otherInfo","setup","ref","watch","newValue","item","formItems","value","field","store","useStore","keys","length","dispatch","newData","editData","id","__exports__","usePageContent","newCallBack","editCallBack","pageModalRef","handleNewData","handleEditData","_component_page_search","_component_page_content","_component_page_modal","PqFormConfig","onQueryBtnClick","handleQueryClick","onRefreshBtnClick","handleRefreshClick","PqTableConfig","onNewBtnClick","onEditBtnClick","enable","scope","plain","row","size","_toDisplayString","PqModalConfigRef","label","placeholder","selectOptions","otherOptions","startPlaceholder","endPlaceholder","itemStyle","padding","labelWidth","colLayout","xl","lg","md","sm","xs","listConfig","prop","minWidth","align","slotName","showIndexColumn","showSelectColumn","isHidden","span","margin","name","PageSearch","PageContent","PageModal","pageContentRef","usePageSearch","computed","departmentItem","find","state","entireDepartment","map","roleItem","entireRole","passwordItem"],"sourceRoot":""}