"use strict";(self["webpackChunkvue3_ts_cms"]=self["webpackChunkvue3_ts_cms"]||[]).push([[45],{21183:function(e,t,a){a.d(t,{Z:function(){return m}});var l=a(73396),o=a(87139);const n={class:"PqForm"},r={class:"header"},i={class:"footer"};function s(e,t,a,s,d,u){const p=(0,l.up)("ElInput"),c=(0,l.up)("el-option"),g=(0,l.up)("ElSelect"),m=(0,l.up)("ElDatePicker"),f=(0,l.up)("el-form-item"),h=(0,l.up)("el-col"),w=(0,l.up)("el-row"),y=(0,l.up)("ElForm");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",r,[(0,l.WI)(e.$slots,"header",{},void 0,!0)]),(0,l.Wm)(y,{"label-width":e.labelWidtn},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.formItems,(t=>((0,l.wg)(),(0,l.j4)(h,(0,o.vs)((0,l.dG)({key:t.label},e.colLayout)),{default:(0,l.w5)((()=>[t.isHidden?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(f,{key:0,label:t.label,rules:t.rules,style:(0,o.j5)(e.itemStyle)},{default:(0,l.w5)((()=>["input"==t.type||"password"==t.type?((0,l.wg)(),(0,l.j4)(p,(0,l.dG)({key:0,"show-password":"password"===t.type},t.otherOptions,{modelValue:e.formData[t.field],"onUpdate:modelValue":a=>e.formData[t.field]=a}),null,16,["show-password","modelValue","onUpdate:modelValue"])):"select"==t.type?((0,l.wg)(),(0,l.j4)(g,(0,l.dG)({key:1,placeholder:t.placeholder,style:{width:"100%"}},t.otherOptions,{modelValue:e.formData[`${t.field}`],"onUpdate:modelValue":a=>e.formData[`${t.field}`]=a}),{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.selectOptions,(e=>((0,l.wg)(),(0,l.j4)(c,{value:e.value,key:e.value},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["value"])))),128))])),_:2},1040,["placeholder","modelValue","onUpdate:modelValue"])):"detepicker"==t.type?((0,l.wg)(),(0,l.j4)(m,(0,l.dG)({key:2},t.otherOptions,{style:{width:"100%"},modelValue:e.formData[`${t.field}`],"onUpdate:modelValue":a=>e.formData[`${t.field}`]=a}),null,16,["modelValue","onUpdate:modelValue"])):(0,l.kq)("",!0)])),_:2},1032,["label","rules","style"]))])),_:2},1040)))),128))])),_:1})])),_:1},8,["label-width"]),(0,l._)("div",i,[(0,l.WI)(e.$slots,"footer",{},void 0,!0)])])}var d=a(44870),u=(0,l.aZ)({emits:["update:modelValue"],props:{modelValue:{type:Object,required:!0},formItems:{type:Array,default:()=>[]},labelWidtn:{type:String,default:"100px"},itemStyle:{type:Object,default:()=>({padding:"10px 40px"})},colLayout:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},setup(e,{emit:t}){const a=(0,d.iH)({...e.modelValue});return(0,l.YP)(a,(e=>{t("update:modelValue",e)}),{deep:!0}),{formData:a}}}),p=a(40089);const c=(0,p.Z)(u,[["render",s],["__scopeId","data-v-78efdf7e"]]);var g=c,m=g},22418:function(e,t,a){a.d(t,{Z:function(){return j}});var l=a(73396),o=a(87139);const n={class:"page-content"},r=(0,l.Uk)("新增"),i={class:"handler-btns",style:{display:"flex","justify-content":"center"}},s=(0,l.Uk)("编辑"),d=(0,l.Uk)("删除");function u(e,t,a,u,p,c){const g=(0,l.up)("el-button"),m=(0,l.up)("pq-table");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(m,(0,l.dG)({listData:e.listData},e.PqTableConfig,{listCount:e.listCount,page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,l.Nv)({headerHandler:(0,l.w5)((()=>[e.isCreate?((0,l.wg)(),(0,l.j4)(g,{key:0,type:"primary",onClick:e.handleNewClick},{default:(0,l.w5)((()=>[r])),_:1},8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(g,{icon:"Refresh"})])),createAt:(0,l.w5)((t=>[(0,l.Uk)((0,o.zw)(e.$filters.formatDate(t.row.createAt)),1)])),updateAt:(0,l.w5)((t=>[(0,l.Uk)((0,o.zw)(e.$filters.formatDate(t.row.updateAt)),1)])),handler:(0,l.w5)((t=>[(0,l._)("div",i,[e.isUpdate?((0,l.wg)(),(0,l.j4)(g,{key:0,type:"primary",size:"small",text:"",icon:"EditPen",style:{padding:"0"},onClick:a=>e.handleEditClick(t.row)},{default:(0,l.w5)((()=>[s])),_:2},1032,["onClick"])):(0,l.kq)("",!0),e.isDelete?((0,l.wg)(),(0,l.j4)(g,{key:1,type:"primary",size:"small",text:"",icon:"Delete",style:{padding:"0"},onClick:a=>e.handleDeleteClick(t.row)},{default:(0,l.w5)((()=>[d])),_:2},1032,["onClick"])):(0,l.kq)("",!0)])])),_:2},[(0,l.Ko)(e.otherPropsSlots,(t=>({name:t.slotName,fn:(0,l.w5)((a=>[(0,l.WI)(e.$slots,t.slotName,{row:a.row})]))})))]),1040,["listData","listCount","page"])])}var p=a(44870),c=a(41411);const g={class:"table"},m={class:"header"},f={class:"title"},h={class:"headerHandler"},w={key:0,class:"footer"},y={class:"demo-pagination-block"};function C(e,t,a,n,r,i){const s=(0,l.up)("el-table-column"),d=(0,l.up)("el-table"),u=(0,l.up)("el-pagination");return(0,l.wg)(),(0,l.iD)("div",g,[(0,l._)("div",m,[(0,l.WI)(e.$slots,"header",{},(()=>[(0,l._)("div",f,(0,o.zw)(e.title),1),(0,l._)("div",h,[(0,l.WI)(e.$slots,"headerHandler",{},void 0,!0)])]),!0)]),(0,l.Wm)(d,(0,l.dG)({data:e.listData,border:"",style:{width:"100%"},onSelectionChange:e.handleSelectionChange},e.childrenProps),{default:(0,l.w5)((()=>[e.showSelectColumn?((0,l.wg)(),(0,l.j4)(s,{key:0,type:"selection",align:"center",width:"60"})):(0,l.kq)("",!0),e.showIndexColumn?((0,l.wg)(),(0,l.j4)(s,{key:1,type:"index",label:"序号",align:"center",width:"80"})):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.listConfig,(t=>((0,l.wg)(),(0,l.j4)(s,(0,l.dG)({key:t.prop},t,{"show-overflow-tooltip":""}),{default:(0,l.w5)((a=>[(0,l.WI)(e.$slots,t.slotName,{row:a.row},(()=>[(0,l.Uk)((0,o.zw)(a.row[t.prop]),1)]),!0)])),_:2},1040)))),128))])),_:3},16,["data","onSelectionChange"]),e.showFooter?((0,l.wg)(),(0,l.iD)("div",w,[(0,l.WI)(e.$slots,"footer",{},(()=>[(0,l._)("div",y,[(0,l.Wm)(u,{"page-sizes":[10,20,30],"page-size":e.page.pageSize,"current-page":e.page.currentPage,small:e.small,disabled:e.disabled,background:e.background,layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["page-size","current-page","small","disabled","background","total","onSizeChange","onCurrentChange"])])]),!0)])):(0,l.kq)("",!0)])}var k=(0,l.aZ)({props:{listData:{type:Array,required:!0},listCount:{type:Number,default:0},listConfig:{type:Array,required:!0},showIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},title:{type:String,required:!0},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},emits:["SelectionChange","update:page"],setup(e,{emit:t}){function a(e){t("SelectionChange",e)}const l=(0,p.iH)(!1),o=(0,p.iH)(!1),n=(0,p.iH)(!1),r=a=>{console.log(`${a} items per page`),t("update:page",{...e.page,pageSize:a})},i=a=>{console.log(`current page: ${a}`),t("update:page",{...e.page,currentPage:a})};return{handleSelectionChange:a,small:l,background:o,disabled:n,handleSizeChange:r,handleCurrentChange:i}}}),v=a(40089);const b=(0,v.Z)(k,[["render",C],["__scopeId","data-v-07f024d4"]]);var D=b,_=D;function q(e,t){const a=(0,c.oR)(),l=a.state.loginModule.permissions;let o="";return o="user"===e?`system:users:${t}`:`system:${e}:${t}`,!!l.find((e=>e===o))}var P=(0,l.aZ)({name:"system-user",props:{PqTableConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},components:{PqTable:_},emits:["newBtnClick","editBtnClick"],setup(e,{emit:t}){const a=q(e.pageName,"create"),o=q(e.pageName,"delete"),n=q(e.pageName,"update"),r=q(e.pageName,"query"),i=(0,p.iH)({currentPage:1,pageSize:10});(0,l.YP)(i,(()=>{d()}));const s=(0,c.oR)(),d=(t={})=>{r?s.dispatch("systemModule/getPageListAction",{pageName:e.pageName,queryInfo:{offset:(i.value.currentPage-1)*i.value.pageSize,size:i.value.pageSize,...t}}):alert(`抱歉！您没有权限查看页面：${e.pageName}`)};d();const u=(0,l.Fl)((()=>s.getters["systemModule/pageListData"](e.pageName))),g=(0,l.Fl)((()=>s.getters["systemModule/pageListCount"](e.pageName))),m=e.PqTableConfig?.listConfig.filter((e=>{if(e.slotName)return"createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handler"!==e.slotName)}));function f(t){s.dispatch("systemModule/deletePageDataAction",{pageName:e.pageName,id:t.id})}function h(e){t("editBtnClick",e)}function w(){t("newBtnClick")}return{listData:u,listCount:g,getPageData:d,pageInfo:i,otherPropsSlots:m,isCreate:a,isDelete:o,isUpdate:n,handleDeleteClick:f,handleEditClick:h,handleNewClick:w}}});const S=(0,v.Z)(P,[["render",u]]);var N=S,j=N},17669:function(e,t,a){a.d(t,{Z:function(){return w}});var l=a(73396);const o=e=>((0,l.dD)("data-v-5cbf6ecb"),e=e(),(0,l.Cn)(),e),n={class:"page-search"},r=o((()=>(0,l._)("h1",null,"高级检索",-1))),i={class:"headerBtns"},s=(0,l.Uk)("重置"),d=(0,l.Uk)("搜索");function u(e,t,a,o,u,p){const c=(0,l.up)("el-button"),g=(0,l.up)("pq-home");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l.Wm)(g,(0,l.dG)(e.PqFormConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),{header:(0,l.w5)((()=>[r])),footer:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l.Wm)(c,{icon:"Refresh",onClick:e.handleRefresh},{default:(0,l.w5)((()=>[s])),_:1},8,["onClick"]),(0,l.Wm)(c,{icon:"Search",type:"primary",onClick:e.handleQueryClick},{default:(0,l.w5)((()=>[d])),_:1},8,["onClick"])])])),_:1},16,["modelValue"])])}var p=a(44870),c=a(21183),g=(0,l.aZ)({components:{PqHome:c.Z},props:{PqFormConfig:{type:Object,required:!0}},emits:["refreshBtnClick","queryBtnClick"],setup(e,{emit:t}){const a=e.PqFormConfig?.formItems??[],l=[];for(const i of a)l[i.field]="";const o=(0,p.iH)(l);function n(){for(const e in l)o.value[e]=l[e];t("refreshBtnClick")}function r(){t("queryBtnClick",o.value)}return{formData:o,handleRefresh:n,handleQueryClick:r}}}),m=a(40089);const f=(0,m.Z)(g,[["render",u],["__scopeId","data-v-5cbf6ecb"]]);var h=f,w=h},32925:function(e,t,a){a.d(t,{Y:function(){return o}});var l=a(44870);function o(){const e=(0,l.iH)();function t(){e.value?.getPageData()}function a(t){e.value?.getPageData(t),console.log(t)}return[e,a,t]}}}]);
//# sourceMappingURL=45.49b8eabf.js.map