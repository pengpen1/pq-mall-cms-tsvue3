"use strict";(self["webpackChunkvue3_ts_cms"]=self["webpackChunkvue3_ts_cms"]||[]).push([[674],{55026:function(e,t,a){a.d(t,{Z:function(){return g}});var n=a(73396);const l={class:"pageModal"},o={class:"dialog-footer"},i=(0,n.Uk)("取消"),r=(0,n.Uk)("确定");function d(e,t,a,d,c,u){const f=(0,n.up)("Pqform"),s=(0,n.up)("el-button"),p=(0,n.up)("el-dialog");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(p,{modelValue:e.centerDialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.centerDialogVisible=t),title:"Warning",width:"30%",center:"",modal:!0,"append-to-body":!0,"destroy-on-close":!0},{footer:(0,n.w5)((()=>[(0,n._)("span",o,[(0,n.Wm)(s,{onClick:t[1]||(t[1]=t=>e.centerDialogVisible=!1)},{default:(0,n.w5)((()=>[i])),_:1}),(0,n.Wm)(s,{type:"primary",onClick:e.handleConfirmClick},{default:(0,n.w5)((()=>[r])),_:1},8,["onClick"])])])),default:(0,n.w5)((()=>[(0,n.Wm)(f,(0,n.dG)(e.PqModalConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),null,16,["modelValue"]),(0,n.WI)(e.$slots,"default")])),_:3},8,["modelValue"])])}var c=a(44870),u=a(21183),f=a(20065),s=(0,n.aZ)({components:{Pqform:u.Z},props:{PqModalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0},otherInfo:{type:Object,default:()=>({})}},setup(e){const t=(0,c.iH)(!1),a=(0,c.iH)({});(0,n.YP)((()=>e.defaultInfo),(t=>{for(const n of e.PqModalConfig.formItems)a.value[`${n.field}`]=t[`${n.field}`]}));const l=(0,f.oR)();function o(){t.value=!1,0===Object.keys(e.defaultInfo).length?l.dispatch("systemModule/createPageDataAction",{pageName:e.pageName,newData:{...a.value,...e.otherInfo}}):l.dispatch("systemModule/editPageDataAction",{pageName:e.pageName,editData:{...a.value,...e.otherInfo},id:e.defaultInfo.id})}return{centerDialogVisible:t,formData:a,handleConfirmClick:o}}}),p=a(40089);const m=(0,p.Z)(s,[["render",d]]);var h=m,g=h},59535:function(e,t,a){a.d(t,{b:function(){return l}});var n=a(44870);function l(e,t){const a=(0,n.iH)({}),l=(0,n.iH)();function o(){a.value={},l.value&&(l.value.centerDialogVisible=!0),e&&e()}function i(e){a.value={...e},l.value&&(l.value.centerDialogVisible=!0),t&&t(e)}return[l,a,o,i]}},75001:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var n=a(73396);const l={class:"role"},o={class:"tableContent"},i={class:"menuTree"};function r(e,t,a,r,d,c){const u=(0,n.up)("PageSearch"),f=(0,n.up)("page-content"),s=(0,n.up)("el-tree"),p=(0,n.up)("page-modal");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(u,{PqFormConfig:e.PqFormConfig,onQueryBtnClick:e.handleQueryClick,onRefreshBtnClick:e.handleRefreshClick},null,8,["PqFormConfig","onQueryBtnClick","onRefreshBtnClick"]),(0,n._)("div",o,[(0,n.Wm)(f,{PqTableConfig:e.PqTableConfig,pageName:"role",onNewBtnClick:e.handleNewData,onEditBtnClick:e.handleEditData,ref:"pageContentRef"},null,8,["PqTableConfig","onNewBtnClick","onEditBtnClick"])]),(0,n.Wm)(p,{PqModalConfig:e.PqModalConfig,pageName:"role",ref:"pageModalRef",defaultInfo:e.defaultInfo,otherInfo:e.otherInfo},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(s,{data:e.menus,props:e.defaultProps,"show-checkbox":"",onCheck:e.handleCheckChange,"node-key":"id",ref:"elTreeRef"},null,8,["data","props","onCheck"])])])),_:1},8,["PqModalConfig","defaultInfo","otherInfo"])])}var d=a(44870),c=a(17669);const u={formItems:[{field:"name",label:"角色名称",placeholder:"请输入角色名称",type:"input"},{field:"intro",label:"权限介绍",placeholder:"请输入权限介绍",type:"input"},{field:"createAt",label:"创建时间",placeholder:"请选择创建的时间",type:"detepicker",otherOptions:{startPlaceholder:"开始时间",endPlaceholder:"结束时间",type:"daterange"}}]},f={listConfig:[{prop:"name",label:"角色名",minWidth:"100",align:"center",slotName:"name"},{prop:"intro",label:"权限介绍",minWidth:"100",align:"center",slotName:"intro"},{prop:"createAt",label:"创建时间",minWidth:"250",align:"center",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",align:"center",slotName:"updateAt"},{label:"操作",minWidth:"120",slotName:"handler",align:"center"}],showIndexColumn:!0,showSelectColumn:!0,title:"角色列表"};var s=a(22418);const p={formItems:[{field:"name",label:"角色名",placeholder:"请输入角色名",type:"input"},{field:"intro",label:"角色介绍",placeholder:"请输入角色介绍",type:"input"}],colLayout:{span:24},labelWidth:"70px",itemStyle:{margin:"8px 18px 8px 0px"}};var m=a(55026),h=a(59535),g=a(32925),C=a(20065),b=a(60997),k=(0,n.aZ)({name:"system-department",setup(){const[e,t,a]=(0,g.Y)();function l(e){const t=(0,b.uq)(e.menuList);(0,n.Y3)((()=>{o.value?.setCheckedKeys(t,!1)}))}const o=(0,d.iH)(),[i,r,c,s]=(0,h.b)(void 0,l),m=(0,C.oR)(),k=(0,n.Fl)((()=>m.state.entireMenu)),v={children:"children",label:"name",disabled:"disabled"},y=(0,d.iH)({});function P(e,{checkedKeys:t,halfCheckedKeys:a}){const n=[...t,...a];y.value={menuList:n}}return{PqFormConfig:u,PqTableConfig:f,PqModalConfig:p,pageModalRef:i,defaultInfo:r,handleNewData:c,handleEditData:s,defaultProps:v,menus:k,otherInfo:y,handleCheckChange:P,elTreeRef:o,pageContentRef:e,handleQueryClick:t,handleRefreshClick:a}},components:{PageSearch:c.Z,PageContent:s.Z,PageModal:m.Z}}),v=a(40089);const y=(0,v.Z)(k,[["render",r],["__scopeId","data-v-2d64c732"]]);var P=y}}]);
//# sourceMappingURL=674.b9c8ab83.js.map